# Ù…Ø³ØªÙ†Ø¯Ø§Øª Ù…Ø§Ú˜ÙˆÙ„ Interfaces

## Ù‡Ø¯Ù Ù…Ø§Ú˜ÙˆÙ„

ğŸ“‚ **Ù…Ø³ÛŒØ± Ù…Ø§Ú˜ÙˆÙ„:** `infrastructure/interfaces/`

Ù…Ø§Ú˜ÙˆÙ„ `interfaces` Ù…Ø¬Ù…ÙˆØ¹Ù‡â€ŒØ§ÛŒ Ø§Ø² Ø§ÛŒÙ†ØªØ±ÙÛŒØ³â€ŒÙ‡Ø§ Ùˆ Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ²Ø§Ø¹ÛŒ Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù¾Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ø±ØªØ¨Ø§Ø·Ø§Øª Ù…Ø®ØªÙ„Ù Ù…Ø§Ù†Ù†Ø¯ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡ØŒ Ú©Ø´ØŒ Ù¾ÛŒØ§Ù…â€ŒØ±Ø³Ø§Ù†ÛŒ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§Ù‡Ø§ Ø¯Ø± Ø²ÛŒØ±Ø³Ø§Ø®Øª Ø³ÛŒØ³ØªÙ… Ø¨Ù‡ Ú©Ø§Ø± Ù…ÛŒâ€ŒØ±ÙˆÙ†Ø¯.

---

## **Ø³Ø§Ø®ØªØ§Ø± Ù…Ø§Ú˜ÙˆÙ„**

```
interfaces/
    â”‚â”€â”€ __init__.py      # Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ù…Ø§Ú˜ÙˆÙ„
    â”‚
    â”œâ”€â”€ caching.py       # Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ú©Ø´
    â”œâ”€â”€ exceptions.py    # Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§
    â”œâ”€â”€ messaging.py     # Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ù¾ÛŒØ§Ù…â€ŒØ±Ø³Ø§Ù†ÛŒ
    â””â”€â”€ storage.py       # Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡
```

---

## **Ø´Ø±Ø­ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ùˆ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¢Ù†â€ŒÙ‡Ø§**

### **1ï¸âƒ£ `__init__.py` - Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ù…Ø§Ú˜ÙˆÙ„**
ğŸ“Œ **Ù‡Ø¯Ù:** ØªØ¬Ù…ÛŒØ¹ Ùˆ ØªØ¹Ø±ÛŒÙ `__all__` Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¢Ø³Ø§Ù†â€ŒØªØ± Ø§Ø² Ø§ÛŒÙ†ØªØ±ÙÛŒØ³â€ŒÙ‡Ø§ Ø¯Ø± Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ù¾Ø±ÙˆÚ˜Ù‡.

**ØªØ¹Ø§Ø±ÛŒÙ Ø§ØµÙ„ÛŒ:**
- `StorageInterface`
- `MessagingInterface`
- `CachingInterface`
- Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§ (`InfrastructureError` Ùˆ Ø²ÛŒØ±Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø¢Ù†)

---

### **2ï¸âƒ£ `caching.py` - Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ú©Ø´**
ğŸ“Œ **Ù‡Ø¯Ù:** ØªØ¹Ø±ÛŒÙ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ú©Ø´â€ŒÚ¯Ø°Ø§Ø±ÛŒ.

**Ú©Ù„Ø§Ø³:**
#### `CachingInterface`
- `async connect() -> None`: Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ú©Ø´
- `async disconnect() -> None`: Ù‚Ø·Ø¹ Ø§ØªØµØ§Ù„ Ø§Ø² Ø³Ø±ÙˆØ± Ú©Ø´
- `async get(key: str) -> Optional[Any]`: Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ù…Ù‚Ø¯Ø§Ø± Ø§Ø² Ú©Ø´
- `async set(key: str, value: Any, ttl: Optional[int] = None) -> None`: Ø°Ø®ÛŒØ±Ù‡ Ù…Ù‚Ø¯Ø§Ø± Ø¯Ø± Ú©Ø´
- `async delete(key: str) -> bool`: Ø­Ø°Ù Ù…Ù‚Ø¯Ø§Ø± Ø§Ø² Ú©Ø´
- `async exists(key: str) -> bool`: Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ Ù…Ù‚Ø¯Ø§Ø± Ø¯Ø± Ú©Ø´
- `async ttl(key: str) -> Optional[int]`: Ø¯Ø±ÛŒØ§ÙØª Ø²Ù…Ø§Ù† Ø§Ù†Ù‚Ø¶Ø§ÛŒ Ù…Ù‚Ø¯Ø§Ø±
- `async scan_keys(pattern: str) -> list`: Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ù„ÛŒØ¯Ù‡Ø§ Ø¨Ø§ Ø§Ù„Ú¯Ùˆ

---

### **3ï¸âƒ£ `exceptions.py` - Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§**
ğŸ“Œ **Ù‡Ø¯Ù:** Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§Ù‡Ø§ÛŒ Ø²ÛŒØ±Ø³Ø§Ø®ØªÛŒ Ùˆ Ø§Ø±Ø§Ø¦Ù‡ Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ù†ØªØ±Ù„ Ø¨Ù‡ØªØ± Ù…Ø´Ú©Ù„Ø§Øª.

**Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**
- `InfrastructureError`: Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… Ø®Ø·Ø§Ù‡Ø§ÛŒ Ø²ÛŒØ±Ø³Ø§Ø®ØªÛŒ
- `ConnectionError`: Ø®Ø·Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø§ØªØµØ§Ù„
- `OperationError`: Ø®Ø·Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø¹Ù…Ù„ÛŒØ§Øª Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ ÛŒØ§ Ù¾Ø±Ø¯Ø§Ø²Ø´
- `ConfigurationError`: Ø®Ø·Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù†Ø§Ø¯Ø±Ø³Øª
- `TimeoutError`: Ø®Ø·Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ù…Ù‡Ù„Øª Ø²Ù…Ø§Ù†ÛŒ Ø¹Ù…Ù„ÛŒØ§Øª
- `ValidationError`: Ø®Ø·Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø§Ø¹ØªØ¨Ø§Ø±Ø³Ù†Ø¬ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§

---

### **4ï¸âƒ£ `messaging.py` - Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ù¾ÛŒØ§Ù…â€ŒØ±Ø³Ø§Ù†ÛŒ**
ğŸ“Œ **Ù‡Ø¯Ù:** ØªØ¹Ø±ÛŒÙ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø·Ø§Øª Ù¾ÛŒØ§Ù…â€ŒØ±Ø³Ø§Ù†ÛŒ Ø¨ÛŒÙ† Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§ (Ù…Ø«Ù„Ø§Ù‹ Kafka).

**Ú©Ù„Ø§Ø³:**
#### `MessagingInterface`
- `async connect() -> None`: Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ù¾ÛŒØ§Ù…â€ŒØ±Ø³Ø§Ù†
- `async disconnect() -> None`: Ù‚Ø·Ø¹ Ø§ØªØµØ§Ù„ Ø§Ø² Ø³Ø±ÙˆØ± Ù¾ÛŒØ§Ù…â€ŒØ±Ø³Ø§Ù†
- `async publish(topic: str, message: Any) -> None`: Ø§Ù†ØªØ´Ø§Ø± Ù¾ÛŒØ§Ù… Ø¯Ø± ÛŒÚ© Ù…ÙˆØ¶ÙˆØ¹ Ù…Ø´Ø®Øµ
- `async subscribe(topic: str, handler: Callable[[Any], Awaitable[None]]) -> None`: Ø§Ø´ØªØ±Ø§Ú© Ø¯Ø± ÛŒÚ© Ù…ÙˆØ¶ÙˆØ¹ Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§
- `async unsubscribe(topic: str) -> None`: Ù„ØºÙˆ Ø§Ø´ØªØ±Ø§Ú© Ø§Ø² ÛŒÚ© Ù…ÙˆØ¶ÙˆØ¹

---

### **5ï¸âƒ£ `storage.py` - Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡**
ğŸ“Œ **Ù‡Ø¯Ù:** ØªØ¹Ø±ÛŒÙ Ø¹Ù…Ù„ÛŒØ§Øª Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø¯Ø± Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡.

**Ú©Ù„Ø§Ø³:**
#### `StorageInterface`
- `async connect() -> None`: Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡
- `async disconnect() -> None`: Ù‚Ø·Ø¹ Ø§ØªØµØ§Ù„ Ø§Ø² Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡
- `async is_connected() -> bool`: Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø§ØªØµØ§Ù„
- `async execute(query: str, params: Optional[List[Any]] = None) -> List[Any]`: Ø§Ø¬Ø±Ø§ÛŒ ÛŒÚ© Ù¾Ø±Ø³â€ŒÙˆØ¬Ùˆ
- `async execute_many(query: str, params_list: List[List[Any]]) -> None`: Ø§Ø¬Ø±Ø§ÛŒ Ú†Ù†Ø¯ÛŒÙ† Ù¾Ø±Ø³â€ŒÙˆØ¬Ùˆ Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø³ØªÙ‡â€ŒØ§ÛŒ
- `async begin_transaction() -> None`: Ø´Ø±ÙˆØ¹ ØªØ±Ø§Ú©Ù†Ø´
- `async commit() -> None`: ØªØ§ÛŒÛŒØ¯ ØªØ±Ø§Ú©Ù†Ø´
- `async rollback() -> None`: Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ ØªØ±Ø§Ú©Ù†Ø´
- `async create_table(table_name: str, schema: dict) -> None`: Ø§ÛŒØ¬Ø§Ø¯ Ø¬Ø¯ÙˆÙ„ Ø¬Ø¯ÛŒØ¯
- `async create_hypertable(table_name: str, time_column: str) -> None`: ØªØ¨Ø¯ÛŒÙ„ Ø¬Ø¯ÙˆÙ„ Ø¨Ù‡ hypertable

---

## **Ù†Ø­ÙˆÙ‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù…Ø§Ú˜ÙˆÙ„ Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡**

### **Û±. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ú©Ø´**
```python
from infrastructure.interfaces.caching import CachingInterface

class RedisCache(CachingInterface):
    async def connect(self):
        print("Ø§ØªØµØ§Ù„ Ø¨Ù‡ Redis Ø¨Ø±Ù‚Ø±Ø§Ø± Ø´Ø¯")
```

### **Û². Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ù¾ÛŒØ§Ù…â€ŒØ±Ø³Ø§Ù†ÛŒ**
```python
from infrastructure.interfaces.messaging import MessagingInterface

class KafkaMessaging(MessagingInterface):
    async def connect(self):
        print("Ø§ØªØµØ§Ù„ Ø¨Ù‡ Kafka Ø¨Ø±Ù‚Ø±Ø§Ø± Ø´Ø¯")
```

### **Û³. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ**
```python
from infrastructure.interfaces.storage import StorageInterface

class PostgresStorage(StorageInterface):
    async def connect(self):
        print("Ø§ØªØµØ§Ù„ Ø¨Ù‡ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ø¨Ø±Ù‚Ø±Ø§Ø± Ø´Ø¯")
```

---

Ø§ÛŒÙ† Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø§Ú˜ÙˆÙ„ `interfaces` ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ Ù¾Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡ Ø³Ø§ÛŒØ± Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ±Ø³Ø§Ø®Øª Ù¾Ø±ÙˆÚ˜Ù‡ Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯.

